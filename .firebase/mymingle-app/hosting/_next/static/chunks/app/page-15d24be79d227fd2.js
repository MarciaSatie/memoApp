(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1439:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,AuthProvider:()=>u});var n=a(5155),r=a(2115),s=a(2553),l=a(9587);let i=(0,r.createContext)({user:null,loading:!0});function u(e){let{children:t}=e,[a,u]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,s.hg)(l.j,e=>{u(e),c(!1)});return()=>e()},[]),(0,n.jsx)(i.Provider,{value:{user:a,loading:o},children:t})}function o(){return(0,r.useContext)(i)}},4563:(e,t,a)=>{Promise.resolve().then(a.bind(a,9574))},9574:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var n=a(5155),r=a(2115),s=a(9587),l=a(2553),i=a(1439);async function u(){try{let e=new l.HF;await (0,l.df)(s.j,e)}catch(e){console.error("Google sign-in error:",e),alert(e.message)}}function o(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[p,m]=(0,r.useState)("signin"),[g,h]=(0,r.useState)(!1),{user:x,loading:b}=(0,i.A)();async function j(n){n.preventDefault(),h(!0);try{if("signup"===p){let t=await (0,l.eJ)(s.j,a,c);await (0,l.r7)(t.user,{displayName:e})}else await (0,l.x9)(s.j,a,c);o(""),d(""),t("")}catch(e){console.error("Authentication error:",e),alert("Auth error: ".concat(e.code))}finally{h(!1)}}return b?(0,n.jsx)("p",{children:"Checking authentication..."}):x?(0,n.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2 p-3 border rounded",children:[(0,n.jsxs)("p",{className:"text-sm",children:["Signed in as ",x.displayName||x.email]}),(0,n.jsx)("button",{onClick:()=>(0,l.CI)(s.j),className:"bg-red-500 text-white rounded px-3 py-1 text-sm",children:"Sign Out"})]}):(0,n.jsx)("div",{className:"max-w-sm mx-auto mt-8 p-4 border rounded",children:(0,n.jsxs)("form",{onSubmit:j,children:[(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Name",className:"border rounded p-2 w-full mb-2",required:!0}),(0,n.jsx)("input",{type:"email",value:a,onChange:e=>o(e.target.value),placeholder:"Email",className:"border rounded p-2 w-full mb-2",required:!0}),(0,n.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),placeholder:"Password",className:"border rounded p-2 w-full mb-2",required:!0}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 text-white rounded p-2 w-full",disabled:g,children:g?"Loading...":"signin"===p?"Sign In":"Sign Up"}),(0,n.jsx)("p",{className:"mt-10 text-center",children:"signin"===p?(0,n.jsxs)(n.Fragment,{children:["Don't have an account? ",(0,n.jsx)("button",{type:"button",className:"text-blue-500",onClick:()=>m("signup"),children:"Sign Up"})]}):(0,n.jsxs)(n.Fragment,{children:["Already have an account? ",(0,n.jsx)("button",{type:"button",className:"text-blue-500",onClick:()=>m("signin"),children:"Sign In"})]})}),(0,n.jsx)("button",{type:"button",onClick:u,className:"bg-red-500 text-white rounded p-2 w-full mt-10",children:"Sign in with Google"})]})})}},9587:(e,t,a)=>{"use strict";a.d(t,{j:()=>i});var n=a(2078);a(4663);var r=a(9708),s=a(2553);let l=(0,n.Wp)({apiKey:"AIzaSyDGwXP6yBGuMXY8YsTKl_JcMJMagCcp-nQ",authDomain:"mymingle-app.firebaseapp.com",projectId:"mymingle-app",storageBucket:"mymingle-app.firebasestorage.app",messagingSenderId:"398999273300",appId:"1:398999273300:web:ca99952a604ccc734e52c1",measurementId:"G-193G4SFGKS"}),i=(0,s.xI)(l);(0,r.aU)(l)}},e=>{e.O(0,[135,965,556,441,255,358],()=>e(e.s=4563)),_N_E=e.O()}]);